cmake_minimum_required(VERSION 3.5)
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
project(easyDSP VERSION 0.0.0 LANGUAGES CXX)

find_package(Boost COMPONENTS python)
find_package(PythonInterp)
find_package(PythonLibs)
if (${PYTHON_VERSION_MAJOR} EQUAL 3)
    find_package(Boost COMPONENTS python3)
else()
    find_package(Boost COMPONENTS python)
endif()

set(PYTHON_BINDINGS windowing_binding.cpp)
add_library(${PROJECT_NAME} SHARED ${PYTHON_BINDINGS})
target_include_directories(${PROJECT_NAME} PRIVATE ${Boost_INCLUDE_DIRS} ${PYTHON_INCLUDE_DIRS})
target_link_libraries(${PROJECT_NAME} EasyDSP EasyMeta ${Boost_LIBRARIES}  ${PYTHON_LIBRARIES})
target_compile_definitions(${PROJECT_NAME} PRIVATE PYTHON_MODULE_NAME=easyDSP)
set_target_properties(${PROJECT_NAME} PROPERTIES PREFIX "")
set_target_properties(${PROJECT_NAME} PROPERTIES SUFFIX ".so")
